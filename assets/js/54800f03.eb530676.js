"use strict";(globalThis.webpackChunkreact_native_shared_credentials_docs=globalThis.webpackChunkreact_native_shared_credentials_docs||[]).push([[113],{905(e,n,i){i.r(n),i.d(n,{assets:()=>t,contentTitle:()=>r,default:()=>p,frontMatter:()=>d,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"expo-setup","title":"Expo Setup","description":"This package includes an Expo config plugin for easy setup and graceful Expo Go support.","source":"@site/docs/expo-setup.md","sourceDirName":".","slug":"/expo-setup","permalink":"/react-native-shared-credentials/docs/expo-setup","draft":false,"unlisted":false,"editUrl":"https://github.com/aryan-dwivedi/react-native-shared-credentials/tree/main/docs/docs/expo-setup.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"Android Setup","permalink":"/react-native-shared-credentials/docs/android-setup"},"next":{"title":"API Reference","permalink":"/react-native-shared-credentials/docs/api-reference"}}');var l=i(4848),o=i(8453);const d={sidebar_position:5},r="Expo Setup",t={},a=[{value:"Expo Go Support",id:"expo-go-support",level:2},{value:"Helper Functions",id:"helper-functions",level:3},{value:"Installation",id:"installation",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Plugin Options",id:"plugin-options",level:3},{value:"Build",id:"build",level:2},{value:"Development Build",id:"development-build",level:3},{value:"EAS Build",id:"eas-build",level:3},{value:"What the Plugin Does",id:"what-the-plugin-does",level:2},{value:"iOS",id:"ios",level:3},{value:"Android",id:"android",level:3},{value:"Manual Steps Still Required",id:"manual-steps-still-required",level:2},{value:"iOS",id:"ios-1",level:3},{value:"Android",id:"android-1",level:3},{value:"Example app.config.js",id:"example-appconfigjs",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"&quot;Plugin not found&quot;",id:"plugin-not-found",level:3},{value:"Changes not applying",id:"changes-not-applying",level:3},{value:"Native module not found",id:"native-module-not-found",level:3}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"expo-setup",children:"Expo Setup"})}),"\n",(0,l.jsx)(n.p,{children:"This package includes an Expo config plugin for easy setup and graceful Expo Go support."}),"\n",(0,l.jsx)(n.h2,{id:"expo-go-support",children:"Expo Go Support"}),"\n",(0,l.jsx)(n.p,{children:"This package now provides graceful handling when running in Expo Go:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-tsx",children:"import SharedPasswords from 'react-native-shared-credentials';\n\n// Check if running in Expo Go\nif (SharedPasswords.isExpoGo()) {\n  console.log('Running in Expo Go - native features unavailable');\n  console.log(SharedPasswords.getEnvironmentInfo());\n}\n\n// Check platform support (returns false in Expo Go)\nconst support = SharedPasswords.getPlatformSupport();\nif (support.passwordAutoFill) {\n  // Show password autofill button\n}\n\n// Methods will throw NOT_SUPPORTED error in Expo Go\ntry {\n  const credential = await SharedPasswords.requestPasswordAutoFill();\n} catch (error) {\n  if (error.code === 'NOT_SUPPORTED') {\n    // Handle gracefully - show alternative login UI\n  }\n}\n"})}),"\n",(0,l.jsx)(n.h3,{id:"helper-functions",children:"Helper Functions"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-tsx",children:"import { \n  isExpoGo, \n  getExecutionEnvironment,\n  getEnvironmentMessage \n} from 'react-native-shared-credentials';\n\n// Check if running in Expo Go\nconst inExpoGo = isExpoGo(); // true in Expo Go\n\n// Get environment type\nconst env = getExecutionEnvironment(); // 'expo-go' | 'development-build' | 'bare'\n\n// Get user-friendly message\nconst message = getEnvironmentMessage();\n"})}),"\n",(0,l.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"npx expo install react-native-shared-credentials\n"})}),"\n",(0,l.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,l.jsxs)(n.p,{children:["Add the plugin to your ",(0,l.jsx)(n.code,{children:"app.json"})," or ",(0,l.jsx)(n.code,{children:"app.config.js"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "expo": {\n    "plugins": [\n      [\n        "react-native-shared-credentials",\n        {\n          "domains": ["example.com"],\n          "teamId": "YOUR_APPLE_TEAM_ID",\n          "keychainGroup": "com.yourcompany.shared"\n        }\n      ]\n    ]\n  }\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"plugin-options",children:"Plugin Options"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Option"}),(0,l.jsx)(n.th,{children:"Type"}),(0,l.jsx)(n.th,{children:"Description"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"domains"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"string[]"})}),(0,l.jsx)(n.td,{children:"Domains for associated domains (iOS) and asset links (Android)"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"teamId"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"string"})}),(0,l.jsx)(n.td,{children:"Apple Developer Team ID (iOS only)"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"keychainGroup"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"string"})}),(0,l.jsx)(n.td,{children:"Keychain sharing group identifier (iOS only, optional)"})]})]})]}),"\n",(0,l.jsx)(n.h2,{id:"build",children:"Build"}),"\n",(0,l.jsxs)(n.admonition,{title:"Expo Go Limitations",type:"info",children:[(0,l.jsxs)(n.p,{children:["While this package provides graceful fallbacks for Expo Go, ",(0,l.jsx)(n.strong,{children:"native features require a development build"}),". In Expo Go:"]}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"getPlatformSupport()"})," returns all features as ",(0,l.jsx)(n.code,{children:"false"})]}),"\n",(0,l.jsxs)(n.li,{children:["All native methods throw ",(0,l.jsx)(n.code,{children:"NOT_SUPPORTED"})," errors with helpful messages"]}),"\n",(0,l.jsx)(n.li,{children:"Your app can detect this and show alternative UI"}),"\n"]})]}),"\n",(0,l.jsx)(n.h3,{id:"development-build",children:"Development Build"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Regenerate native projects\nnpx expo prebuild\n\n# Run iOS\nnpx expo run:ios\n\n# Run Android\nnpx expo run:android\n"})}),"\n",(0,l.jsx)(n.h3,{id:"eas-build",children:"EAS Build"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Development build\neas build --profile development --platform all\n\n# Production build\neas build --profile production --platform all\n"})}),"\n",(0,l.jsx)(n.h2,{id:"what-the-plugin-does",children:"What the Plugin Does"}),"\n",(0,l.jsx)(n.h3,{id:"ios",children:"iOS"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Adds Associated Domains entitlement:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"webcredentials:yourdomain.com"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"applinks:yourdomain.com"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Adds AuthenticationServices framework"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Optionally configures Keychain Sharing"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"android",children:"Android"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Adds asset_statements meta-data to AndroidManifest.xml"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"manual-steps-still-required",children:"Manual Steps Still Required"}),"\n",(0,l.jsx)(n.p,{children:"Even with the plugin, you still need to:"}),"\n",(0,l.jsx)(n.h3,{id:"ios-1",children:"iOS"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Host the Apple App Site Association file at ",(0,l.jsx)(n.code,{children:"/.well-known/apple-app-site-association"})]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"android-1",children:"Android"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Host the Digital Asset Links file at ",(0,l.jsx)(n.code,{children:"/.well-known/assetlinks.json"})]}),"\n",(0,l.jsxs)(n.li,{children:["Add the ",(0,l.jsx)(n.code,{children:"asset_statements"})," string resource to ",(0,l.jsx)(n.code,{children:"strings.xml"})]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["See ",(0,l.jsx)(n.a,{href:"./ios-setup",children:"iOS Setup"})," and ",(0,l.jsx)(n.a,{href:"./android-setup",children:"Android Setup"})," for details."]}),"\n",(0,l.jsx)(n.h2,{id:"example-appconfigjs",children:"Example app.config.js"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:'export default {\n  expo: {\n    name: "My App",\n    slug: "my-app",\n    ios: {\n      bundleIdentifier: "com.yourcompany.myapp",\n    },\n    android: {\n      package: "com.yourcompany.myapp",\n    },\n    plugins: [\n      [\n        "react-native-shared-credentials",\n        {\n          domains: ["example.com", "auth.example.com"],\n          teamId: "ABCD1234EF",\n        },\n      ],\n    ],\n  },\n};\n'})}),"\n",(0,l.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,l.jsx)(n.h3,{id:"plugin-not-found",children:'"Plugin not found"'}),"\n",(0,l.jsx)(n.p,{children:"Make sure you've installed the package:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"npx expo install react-native-shared-credentials\n"})}),"\n",(0,l.jsx)(n.h3,{id:"changes-not-applying",children:"Changes not applying"}),"\n",(0,l.jsx)(n.p,{children:"Run prebuild with the clean flag:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"npx expo prebuild --clean\n"})}),"\n",(0,l.jsx)(n.h3,{id:"native-module-not-found",children:"Native module not found"}),"\n",(0,l.jsx)(n.p,{children:"Rebuild your development build after adding the plugin:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"npx expo run:ios\n# or\nnpx expo run:android\n"})})]})}function p(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},8453(e,n,i){i.d(n,{R:()=>d,x:()=>r});var s=i(6540);const l={},o=s.createContext(l);function d(e){const n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:d(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);