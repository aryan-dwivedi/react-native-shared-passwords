"use strict";(globalThis.webpackChunkreact_native_shared_credentials_docs=globalThis.webpackChunkreact_native_shared_credentials_docs||[]).push([[657],{5207(e,n,i){i.r(n),i.d(n,{assets:()=>t,contentTitle:()=>o,default:()=>u,frontMatter:()=>a,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"android-setup","title":"Android Setup","description":"For password autofill and passkeys to work on Android, you need to configure Digital Asset Links.","source":"@site/docs/android-setup.md","sourceDirName":".","slug":"/android-setup","permalink":"/react-native-shared-credentials/docs/android-setup","draft":false,"unlisted":false,"editUrl":"https://github.com/aryan-dwivedi/react-native-shared-credentials/tree/main/docs/docs/android-setup.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"iOS Setup","permalink":"/react-native-shared-credentials/docs/ios-setup"},"next":{"title":"Expo Setup","permalink":"/react-native-shared-credentials/docs/expo-setup"}}');var l=i(4848),r=i(8453);const a={sidebar_position:4},o="Android Setup",t={},d=[{value:"Requirements",id:"requirements",level:2},{value:"1. Create Digital Asset Links File",id:"1-create-digital-asset-links-file",level:2},{value:"2. Get Your SHA256 Fingerprint",id:"2-get-your-sha256-fingerprint",level:2},{value:"Debug Build",id:"debug-build",level:3},{value:"Release Build",id:"release-build",level:3},{value:"From Google Play Console",id:"from-google-play-console",level:3},{value:"3. Add Asset Statements to Your App",id:"3-add-asset-statements-to-your-app",level:2},{value:"4. Verify Your Setup",id:"4-verify-your-setup",level:2},{value:"Testing",id:"testing",level:2},{value:"On Emulator",id:"on-emulator",level:3},{value:"On Device",id:"on-device",level:3},{value:"Expo Configuration",id:"expo-configuration",level:2},{value:"Common Issues",id:"common-issues",level:2},{value:"&quot;No credentials found&quot;",id:"no-credentials-found",level:3},{value:"Google Play Services errors",id:"google-play-services-errors",level:3},{value:"Credential Manager not available",id:"credential-manager-not-available",level:3}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"android-setup",children:"Android Setup"})}),"\n",(0,l.jsx)(n.p,{children:"For password autofill and passkeys to work on Android, you need to configure Digital Asset Links."}),"\n",(0,l.jsx)(n.h2,{id:"requirements",children:"Requirements"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Android 9.0 (API 28) or higher"}),"\n",(0,l.jsx)(n.li,{children:"Google Play Services installed (for Credential Manager)"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"1-create-digital-asset-links-file",children:"1. Create Digital Asset Links File"}),"\n",(0,l.jsxs)(n.p,{children:["Host a file at ",(0,l.jsx)(n.code,{children:"https://example.com/.well-known/assetlinks.json"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'[\n  {\n    "relation": [\n      "delegate_permission/common.handle_all_urls",\n      "delegate_permission/common.get_login_creds"\n    ],\n    "target": {\n      "namespace": "android_app",\n      "package_name": "com.yourcompany.yourapp",\n      "sha256_cert_fingerprints": [\n        "YOUR_SHA256_FINGERPRINT"\n      ]\n    }\n  }\n]\n'})}),"\n",(0,l.jsx)(n.h2,{id:"2-get-your-sha256-fingerprint",children:"2. Get Your SHA256 Fingerprint"}),"\n",(0,l.jsx)(n.h3,{id:"debug-build",children:"Debug Build"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"keytool -list -v \\\n  -keystore ~/.android/debug.keystore \\\n  -alias androiddebugkey \\\n  -storepass android \\\n  -keypass android\n"})}),"\n",(0,l.jsx)(n.h3,{id:"release-build",children:"Release Build"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"keytool -list -v \\\n  -keystore your-release-key.keystore \\\n  -alias your-alias\n"})}),"\n",(0,l.jsx)(n.h3,{id:"from-google-play-console",children:"From Google Play Console"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Go to Google Play Console"}),"\n",(0,l.jsx)(n.li,{children:"Select your app"}),"\n",(0,l.jsx)(n.li,{children:"Go to Setup > App integrity"}),"\n",(0,l.jsx)(n.li,{children:"Find the SHA-256 certificate fingerprint"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"3-add-asset-statements-to-your-app",children:"3. Add Asset Statements to Your App"}),"\n",(0,l.jsxs)(n.p,{children:["In ",(0,l.jsx)(n.code,{children:"android/app/src/main/res/values/strings.xml"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-xml",children:'<resources>\n    <string name="app_name">Your App</string>\n    <string name="asset_statements">\n        [{"include": "https://example.com/.well-known/assetlinks.json"}]\n    </string>\n</resources>\n'})}),"\n",(0,l.jsxs)(n.p,{children:["In ",(0,l.jsx)(n.code,{children:"android/app/src/main/AndroidManifest.xml"}),", add inside ",(0,l.jsx)(n.code,{children:"<application>"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-xml",children:'<meta-data\n    android:name="asset_statements"\n    android:resource="@string/asset_statements" />\n'})}),"\n",(0,l.jsx)(n.h2,{id:"4-verify-your-setup",children:"4. Verify Your Setup"}),"\n",(0,l.jsx)(n.p,{children:"Use Google's Digital Asset Links validator:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"https://developers.google.com/digital-asset-links/tools/generator\n"})}),"\n",(0,l.jsx)(n.p,{children:"Enter your domain and package name to verify the configuration."}),"\n",(0,l.jsx)(n.h2,{id:"testing",children:"Testing"}),"\n",(0,l.jsx)(n.h3,{id:"on-emulator",children:"On Emulator"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Use an emulator with Google Play Services"}),"\n",(0,l.jsx)(n.li,{children:"Sign in with a Google account"}),"\n",(0,l.jsx)(n.li,{children:"The emulator will download and cache the assetlinks.json file"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"on-device",children:"On Device"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Ensure the device has Google Play Services"}),"\n",(0,l.jsx)(n.li,{children:"The device needs internet access to verify the asset links"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"expo-configuration",children:"Expo Configuration"}),"\n",(0,l.jsx)(n.p,{children:"The Expo plugin adds the necessary manifest configurations automatically. You still need to:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Host the assetlinks.json file on your domain"}),"\n",(0,l.jsx)(n.li,{children:"Add the asset_statements string resource"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "expo": {\n    "plugins": [\n      [\n        "react-native-shared-credentials",\n        {\n          "domains": ["example.com"]\n        }\n      ]\n    ]\n  }\n}\n'})}),"\n",(0,l.jsx)(n.h2,{id:"common-issues",children:"Common Issues"}),"\n",(0,l.jsx)(n.h3,{id:"no-credentials-found",children:'"No credentials found"'}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Verify assetlinks.json is accessible via HTTPS"}),"\n",(0,l.jsx)(n.li,{children:"Check the SHA256 fingerprint matches your signing key"}),"\n",(0,l.jsx)(n.li,{children:"Ensure package name matches exactly"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"google-play-services-errors",children:"Google Play Services errors"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Update Google Play Services on the device"}),"\n",(0,l.jsx)(n.li,{children:"Some emulators don't have Play Services installed"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"credential-manager-not-available",children:"Credential Manager not available"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Check the device is running Android 9+"}),"\n",(0,l.jsx)(n.li,{children:"Verify Google Play Services is up to date"}),"\n",(0,l.jsx)(n.li,{children:"The Credential Manager library may need updating"}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},8453(e,n,i){i.d(n,{R:()=>a,x:()=>o});var s=i(6540);const l={},r=s.createContext(l);function a(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:a(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);