"use strict";(globalThis.webpackChunkreact_native_shared_credentials_docs=globalThis.webpackChunkreact_native_shared_credentials_docs||[]).push([[532],{1854(e,n,i){i.r(n),i.d(n,{assets:()=>r,contentTitle:()=>t,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"ios-setup","title":"iOS Setup","description":"For password autofill and passkeys to work on iOS, you need to configure Associated Domains and host a verification file on your server.","source":"@site/docs/ios-setup.md","sourceDirName":".","slug":"/ios-setup","permalink":"/react-native-shared-credentials/docs/ios-setup","draft":false,"unlisted":false,"editUrl":"https://github.com/aryan-dwivedi/react-native-shared-credentials/tree/main/docs/docs/ios-setup.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Installation","permalink":"/react-native-shared-credentials/docs/installation"},"next":{"title":"Android Setup","permalink":"/react-native-shared-credentials/docs/android-setup"}}');var l=i(4848),a=i(8453);const o={sidebar_position:3},t="iOS Setup",r={},d=[{value:"1. Enable Associated Domains",id:"1-enable-associated-domains",level:2},{value:"Using Xcode",id:"using-xcode",level:3},{value:"Using Expo Config Plugin",id:"using-expo-config-plugin",level:3},{value:"2. Host Apple App Site Association (AASA) File",id:"2-host-apple-app-site-association-aasa-file",level:2},{value:"AASA File Requirements",id:"aasa-file-requirements",level:3},{value:"Verify AASA File",id:"verify-aasa-file",level:3},{value:"3. Keychain Sharing (Optional)",id:"3-keychain-sharing-optional",level:2},{value:"Using Xcode",id:"using-xcode-1",level:3},{value:"Using Expo Config Plugin",id:"using-expo-config-plugin-1",level:3},{value:"4. Entitlements File",id:"4-entitlements-file",level:2},{value:"Testing on Simulator",id:"testing-on-simulator",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"&quot;No credentials found&quot;",id:"no-credentials-found",level:3},{value:"Credentials not appearing",id:"credentials-not-appearing",level:3}];function c(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"ios-setup",children:"iOS Setup"})}),"\n",(0,l.jsx)(n.p,{children:"For password autofill and passkeys to work on iOS, you need to configure Associated Domains and host a verification file on your server."}),"\n",(0,l.jsx)(n.h2,{id:"1-enable-associated-domains",children:"1. Enable Associated Domains"}),"\n",(0,l.jsx)(n.h3,{id:"using-xcode",children:"Using Xcode"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Open your iOS project in Xcode"}),"\n",(0,l.jsx)(n.li,{children:"Select your app target"}),"\n",(0,l.jsx)(n.li,{children:'Go to "Signing & Capabilities"'}),"\n",(0,l.jsx)(n.li,{children:'Click "+ Capability" and add "Associated Domains"'}),"\n",(0,l.jsxs)(n.li,{children:["Add your domains:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"webcredentials:example.com"})," (for password autofill)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"applinks:example.com"})," (for universal links/passkeys)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"using-expo-config-plugin",children:"Using Expo Config Plugin"}),"\n",(0,l.jsx)(n.p,{children:"The plugin automatically adds associated domains:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "expo": {\n    "plugins": [\n      [\n        "react-native-shared-credentials",\n        {\n          "domains": ["example.com", "login.example.com"]\n        }\n      ]\n    ]\n  }\n}\n'})}),"\n",(0,l.jsx)(n.h2,{id:"2-host-apple-app-site-association-aasa-file",children:"2. Host Apple App Site Association (AASA) File"}),"\n",(0,l.jsxs)(n.p,{children:["Create a file at ",(0,l.jsx)(n.code,{children:"https://example.com/.well-known/apple-app-site-association"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "webcredentials": {\n    "apps": ["TEAMID.com.yourcompany.yourapp"]\n  },\n  "applinks": {\n    "apps": [],\n    "details": [\n      {\n        "appID": "TEAMID.com.yourcompany.yourapp",\n        "paths": ["*"]\n      }\n    ]\n  }\n}\n'})}),"\n",(0,l.jsx)(n.p,{children:"Replace:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"TEAMID"})," with your Apple Developer Team ID"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"com.yourcompany.yourapp"})," with your app's bundle identifier"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"aasa-file-requirements",children:"AASA File Requirements"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Must be served from the root domain (not a subdomain path)"}),"\n",(0,l.jsx)(n.li,{children:"Must be served over HTTPS"}),"\n",(0,l.jsxs)(n.li,{children:["Content-Type should be ",(0,l.jsx)(n.code,{children:"application/json"})]}),"\n",(0,l.jsx)(n.li,{children:"No redirects allowed"}),"\n",(0,l.jsx)(n.li,{children:"File must be accessible without authentication"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"verify-aasa-file",children:"Verify AASA File"}),"\n",(0,l.jsx)(n.p,{children:"Test your AASA file using Apple's validator:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"https://app-site-association.cdn-apple.com/a/v1/example.com\n"})}),"\n",(0,l.jsx)(n.p,{children:"Or use the Branch.io validator:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"https://branch.io/resources/aasa-validator/\n"})}),"\n",(0,l.jsx)(n.h2,{id:"3-keychain-sharing-optional",children:"3. Keychain Sharing (Optional)"}),"\n",(0,l.jsx)(n.p,{children:"If you need to share credentials between multiple apps:"}),"\n",(0,l.jsx)(n.h3,{id:"using-xcode-1",children:"Using Xcode"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:'Add "Keychain Sharing" capability'}),"\n",(0,l.jsx)(n.li,{children:"Add a keychain group identifier"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"using-expo-config-plugin-1",children:"Using Expo Config Plugin"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "expo": {\n    "plugins": [\n      [\n        "react-native-shared-credentials",\n        {\n          "domains": ["example.com"],\n          "keychainGroup": "com.yourcompany.shared",\n          "teamId": "YOURTEAMID"\n        }\n      ]\n    ]\n  }\n}\n'})}),"\n",(0,l.jsx)(n.h2,{id:"4-entitlements-file",children:"4. Entitlements File"}),"\n",(0,l.jsx)(n.p,{children:"Your entitlements file should look like:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">\n<plist version="1.0">\n<dict>\n    <key>com.apple.developer.associated-domains</key>\n    <array>\n        <string>webcredentials:example.com</string>\n        <string>applinks:example.com</string>\n    </array>\n</dict>\n</plist>\n'})}),"\n",(0,l.jsx)(n.h2,{id:"testing-on-simulator",children:"Testing on Simulator"}),"\n",(0,l.jsx)(n.admonition,{type:"note",children:(0,l.jsx)(n.p,{children:"Password autofill works on the iOS Simulator, but some features (like biometrics) require a physical device."})}),"\n",(0,l.jsx)(n.p,{children:"To test on the simulator:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Make sure your AASA file is publicly accessible"}),"\n",(0,l.jsx)(n.li,{children:"The simulator will download and cache the AASA file"}),"\n",(0,l.jsx)(n.li,{children:"You may need to restart the app after making changes"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,l.jsx)(n.h3,{id:"no-credentials-found",children:'"No credentials found"'}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Verify your AASA file is accessible"}),"\n",(0,l.jsx)(n.li,{children:"Check that the Team ID matches exactly"}),"\n",(0,l.jsx)(n.li,{children:"Ensure the bundle ID in AASA matches your app"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"credentials-not-appearing",children:"Credentials not appearing"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Wait a few minutes after deploying AASA file (Apple caches it)"}),"\n",(0,l.jsx)(n.li,{children:"Try deleting and reinstalling the app"}),"\n",(0,l.jsx)(n.li,{children:"Check Console.app for swcd (Shared Web Credentials daemon) logs"}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},8453(e,n,i){i.d(n,{R:()=>o,x:()=>t});var s=i(6540);const l={},a=s.createContext(l);function o(e){const n=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:o(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);