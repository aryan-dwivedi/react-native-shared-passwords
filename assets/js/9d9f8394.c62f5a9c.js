"use strict";(globalThis.webpackChunkreact_native_shared_passwords_docs=globalThis.webpackChunkreact_native_shared_passwords_docs||[]).push([[13],{7309(e,n,s){s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>t});const r=JSON.parse('{"id":"troubleshooting","title":"Troubleshooting","description":"Common Issues","source":"@site/docs/troubleshooting.md","sourceDirName":".","slug":"/troubleshooting","permalink":"/react-native-shared-passwords/docs/troubleshooting","draft":false,"unlisted":false,"editUrl":"https://github.com/aryan-dwivedi/react-native-shared-passwords/tree/main/docs/docs/troubleshooting.md","tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"sidebar_position":8},"sidebar":"tutorialSidebar","previous":{"title":"Passkeys Guide","permalink":"/react-native-shared-passwords/docs/passkeys"}}');var i=s(4848),l=s(8453);const o={sidebar_position:8},d="Troubleshooting",c={},t=[{value:"Common Issues",id:"common-issues",level:2},{value:"&quot;Module not found&quot; or &quot;Linking error&quot;",id:"module-not-found-or-linking-error",level:3},{value:"Expo Go: &quot;NOT_SUPPORTED&quot; errors",id:"expo-go-not_supported-errors",level:3},{value:"&quot;Not supported&quot; errors",id:"not-supported-errors",level:3},{value:"Credentials not appearing",id:"credentials-not-appearing",level:3},{value:"Passkey creation fails",id:"passkey-creation-fails",level:3},{value:"Save password fails",id:"save-password-fails",level:3},{value:"User cancelled errors",id:"user-cancelled-errors",level:3},{value:"Debugging Tips",id:"debugging-tips",level:2},{value:"Enable verbose logging",id:"enable-verbose-logging",level:3},{value:"Verify associated domains",id:"verify-associated-domains",level:3},{value:"Test on real devices",id:"test-on-real-devices",level:3},{value:"Getting Help",id:"getting-help",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"troubleshooting",children:"Troubleshooting"})}),"\n",(0,i.jsx)(n.h2,{id:"common-issues",children:"Common Issues"}),"\n",(0,i.jsx)(n.h3,{id:"module-not-found-or-linking-error",children:'"Module not found" or "Linking error"'}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Symptoms:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Error: ",(0,i.jsx)(n.code,{children:"The package 'react-native-shared-passwords' doesn't seem to be linked"})]}),"\n",(0,i.jsx)(n.li,{children:"Native module is undefined"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"iOS"}),": Run pod install"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd ios && pod install\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Android"}),": Clean and rebuild"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd android && ./gradlew clean\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Expo"}),": Rebuild development build"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npx expo prebuild --clean\nnpx expo run:ios\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"expo-go-not_supported-errors",children:'Expo Go: "NOT_SUPPORTED" errors'}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Symptoms:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Error code: ",(0,i.jsx)(n.code,{children:"NOT_SUPPORTED"})]}),"\n",(0,i.jsx)(n.li,{children:'Error message mentions "Expo Go"'}),"\n",(0,i.jsx)(n.li,{children:"All password/passkey features fail"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," Expo Go doesn't support custom native modules. This is a fundamental limitation of Expo Go."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Use a development build instead of Expo Go:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npx expo run:ios\n# or\nnpx expo run:android\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Or create an EAS development build:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"eas build --profile development --platform all\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Detect Expo Go and show alternative UI:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"import SharedPasswords, { isExpoGo } from 'react-native-shared-passwords';\n\nif (isExpoGo()) {\n  // Show manual login form or message\n  Alert.alert(\n    'Development Build Required',\n    'Password autofill requires a development build. ' +\n    'Please use manual login for now.'\n  );\n} else {\n  // Use native password features\n  const credential = await SharedPasswords.requestPasswordAutoFill();\n}\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Check platform support before using features:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"const support = SharedPasswords.getPlatformSupport();\n// In Expo Go, all values will be false\nif (support.passwordAutoFill) {\n  // Safe to use\n}\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"not-supported-errors",children:'"Not supported" errors'}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Symptoms:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Error code: ",(0,i.jsx)(n.code,{children:"NOT_SUPPORTED"})]}),"\n",(0,i.jsx)(n.li,{children:"Features not working on certain devices"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," Device/OS version doesn't support the feature."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution:"})," Check platform support before using features:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"const support = SharedPasswords.getPlatformSupport();\nif (support.passwordAutoFill) {\n  // Use password autofill\n}\nif (support.passkeys) {\n  // Use passkeys\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Minimum versions:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Password AutoFill: iOS 13+, Android 9+"}),"\n",(0,i.jsx)(n.li,{children:"Passkeys: iOS 16+, Android 9+ with Play Services"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"credentials-not-appearing",children:"Credentials not appearing"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"iOS Symptoms:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"No credentials shown in picker"}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"NO_CREDENTIALS"})," error"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Verify AASA file:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"curl https://yourdomain.com/.well-known/apple-app-site-association\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Check Team ID matches:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["AASA file format: ",(0,i.jsx)(n.code,{children:"TEAMID.com.yourapp.bundleid"})]}),"\n",(0,i.jsx)(n.li,{children:"Find Team ID in Apple Developer Portal"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Wait for cache refresh:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Apple caches AASA files"}),"\n",(0,i.jsx)(n.li,{children:"Wait 24-48 hours after changes"}),"\n",(0,i.jsx)(n.li,{children:"Or reinstall the app"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Check entitlements:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Ensure Associated Domains capability is added"}),"\n",(0,i.jsxs)(n.li,{children:["Domains start with ",(0,i.jsx)(n.code,{children:"webcredentials:"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Android Symptoms:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"No credential picker appears"}),"\n",(0,i.jsx)(n.li,{children:"Authentication silently fails"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Verify assetlinks.json:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"curl https://yourdomain.com/.well-known/assetlinks.json\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Check SHA256 fingerprint:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"keytool -list -v -keystore your.keystore -alias your-alias\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Verify using Google's tool:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"https://developers.google.com/digital-asset-links/tools/generator\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Check Play Services:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Ensure Google Play Services is installed and updated"}),"\n",(0,i.jsx)(n.li,{children:"Some emulators don't have Play Services"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"passkey-creation-fails",children:"Passkey creation fails"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Symptoms:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"createPasskey"})," throws error"]}),"\n",(0,i.jsx)(n.li,{children:"User can't complete biometric verification"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Check challenge format:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Challenge must be Base64-encoded"}),"\n",(0,i.jsx)(n.li,{children:"Must be at least 16 bytes"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Verify rpId matches domain:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"rpId must match your associated domain exactly"}),"\n",(0,i.jsxs)(n.li,{children:["Don't include protocol (use ",(0,i.jsx)(n.code,{children:"example.com"})," not ",(0,i.jsx)(n.code,{children:"https://example.com"}),")"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"iOS specific:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Ensure device has biometrics set up"}),"\n",(0,i.jsx)(n.li,{children:"Check Associated Domains include the rpId"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Android specific:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Ensure screen lock is configured"}),"\n",(0,i.jsx)(n.li,{children:"Check Google Play Services is available"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"save-password-fails",children:"Save password fails"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"iOS Symptoms:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"savePassword"})," throws ",(0,i.jsx)(n.code,{children:"DOMAIN_NOT_CONFIGURED"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Add the domain to Associated Domains in Xcode"}),"\n",(0,i.jsxs)(n.li,{children:["Pass the ",(0,i.jsx)(n.code,{children:"domain"})," parameter to ",(0,i.jsx)(n.code,{children:"savePassword"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Android Symptoms:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Save operation shows no UI"}),"\n",(0,i.jsx)(n.li,{children:"Returns success but password not saved"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Credential Manager requires user interaction"}),"\n",(0,i.jsxs)(n.li,{children:["Ensure ",(0,i.jsx)(n.code,{children:"currentActivity"})," is available"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"user-cancelled-errors",children:"User cancelled errors"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Symptoms:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Error code: ",(0,i.jsx)(n.code,{children:"CANCELLED"})]}),"\n",(0,i.jsx)(n.li,{children:"Operations failing without user seeing UI"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"This is expected behavior when:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"User dismisses the credential picker"}),"\n",(0,i.jsx)(n.li,{children:"User cancels biometric verification"}),"\n",(0,i.jsx)(n.li,{children:"User taps outside the modal"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Handle gracefully:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"try {\n  await SharedPasswords.requestPasswordAutoFill();\n} catch (error) {\n  if (error.code === 'CANCELLED') {\n    // User cancelled - don't show error message\n    return;\n  }\n  // Handle other errors\n}\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"debugging-tips",children:"Debugging Tips"}),"\n",(0,i.jsx)(n.h3,{id:"enable-verbose-logging",children:"Enable verbose logging"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"iOS:"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Open Console.app"}),"\n",(0,i.jsx)(n.li,{children:'Filter by your app or "swcd" (Shared Web Credentials daemon)'}),"\n",(0,i.jsx)(n.li,{children:"Look for credential-related messages"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Android:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"adb logcat | grep -i credential\n"})}),"\n",(0,i.jsx)(n.h3,{id:"verify-associated-domains",children:"Verify associated domains"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"iOS:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Check Apple's CDN for your AASA file\ncurl https://app-site-association.cdn-apple.com/a/v1/yourdomain.com\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Android:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Use Google\'s verification API\ncurl "https://digitalassetlinks.googleapis.com/v1/statements:list?source.web.site=https://yourdomain.com&relation=delegate_permission/common.get_login_creds"\n'})}),"\n",(0,i.jsx)(n.h3,{id:"test-on-real-devices",children:"Test on real devices"}),"\n",(0,i.jsx)(n.p,{children:"Some features don't work correctly on simulators/emulators:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Biometric authentication"}),"\n",(0,i.jsx)(n.li,{children:"Keychain sync (iOS)"}),"\n",(0,i.jsx)(n.li,{children:"Google Password Manager sync (Android)"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"getting-help",children:"Getting Help"}),"\n",(0,i.jsx)(n.p,{children:"If you're still having issues:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Check existing issues:"})," Search the GitHub repository"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Open a new issue:"})," Include:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Platform and OS version"}),"\n",(0,i.jsx)(n.li,{children:"React Native version"}),"\n",(0,i.jsx)(n.li,{children:"Full error message"}),"\n",(0,i.jsx)(n.li,{children:"Steps to reproduce"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Include logs:"})," Attach relevant console/logcat output"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},8453(e,n,s){s.d(n,{R:()=>o,x:()=>d});var r=s(6540);const i={},l=r.createContext(i);function o(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);